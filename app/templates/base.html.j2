{% import "_macros.html.j2" as macros %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>{% block title %}{{title}} - Kyle's junk{% endblock title %}</title>
    <link rel="shortcut icon" type="'image/png" href="{{url_for('static', filename='favicon.png')}}">
    <link rel="icon" type="'image/png" href="{{url_for('static', filename='favicon.png')}}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('static', filename='css/styles.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/fonts.css')}}">
  </head>
  <body>
    <nav class="navbar">
      <ul>
        <li><a href="{{url_for('main.index')}}">kyledavi.es</a></li>
        <li><a href="{{url_for('main.blog')}}">Blog</a></li>
        <li><a href="{{url_for('main.demos')}}">Demos</a></li>
        <li><a href="{{url_for('main.about_me')}}">About Me</a></li>
      </ul>
      <ul>
        {%- if current_user.is_anonymous %}
        <li><a href="{{url_for('auth.login')}}">Login/Register</a></li>
        {%- else %}
        <li><a href="{{url_for('main.user', username=current_user.username)}}">Profile</a></li>
        <li><a href="{{url_for('auth.logout')}}">Logout</a></li>
        {%- endif %}
      </ul>
    </nav>
    <div class="messages">
      {%- with messages = get_flashed_messages() %}
      {%- if messages %}
      {%- for message in messages %}
      <dialog class="alert alert-info" role="alert">{{message}}</dialog>
      {% endfor %}
      {% endif %}
      {%- endwith %}
    </div>
    <main>
      <h1>
        {%- block page_header %}
        {% if current_user.is_anonymous %}
        Welcome to Kyle's junk!
        {% else %}
        Hello, {{current_user.username}}!
        {% endif %}
        {% endblock page_header -%}
      </h1>
      {% block content %}{% endblock %}
    </main>
    <footer>
      <p>&copy; 2019 Kyle F. Davies</p>
    </footer>
    {% block scripts %}{% endblock %}
  </body>
</html>
